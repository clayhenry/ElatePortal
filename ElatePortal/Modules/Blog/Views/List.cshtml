
@{
    ViewBag.Title = "title";
    Layout = "_Layout";
}

<body>

<h1>Posts</h1>    

<ul>  
@foreach (var posts in Model["blogs"])
{
    <li>@posts.Title</li>

}
</ul>
<h1>Comments need to be moderated</h1>  


<ul>  
    @foreach (var post in Model["comments"])
    {
       
                
        
        <h2>@post.Title</h2>
            
        <div>All Comments:@post.Comments.Count </div>

        int pendingApproval = 0;
        int approved = 0;
        
        for (int i = 0; i < post.Comments.Count; i++)
        {
            if (post.Comments[i].Status.Equals(0))
            {

                pendingApproval++;
            }

            if (post.Comments[i].Status.Equals(1))
            {
                approved ++;
            }
            
        }
        <div>Pending Approval:@pendingApproval </div> 
        <div>Approved:@approved </div> 
                                                       
        <ul>
           @foreach(var comment in post.Comments )
           {
         
            
               if(comment.Status.Equals(0)){
                   
                <li>
                   <div>
                        <input type="checkbox" name="comment"> <strong> @comment.Preview ...</strong> By <a href="mailto:@comment.Author[0].Email"> @comment.Author[0].Name</a>
                   </div>
                   <div>@comment.Comment (in modal) </div>
                   <div>Status:<strong> Pending Approval</strong></div>
               </li>
               }

               if (!comment.Status.Equals(0))
               {
                   
                   <li>
                       <div> <input type="checkbox" name="comment"> <strong> @comment.Preview ...</strong> By <a href="mailto:@comment.Author[0].Email"> @comment.Author[0].Name</a></div>
                       <div>@comment.Comment (in modal) </div>
                       <div>Status:<strong> Approved</strong></div>
                   </li>
               }
           
           }
            
        </ul>
        <div>Approve Disapprove</div>
    }
</ul>


</body>